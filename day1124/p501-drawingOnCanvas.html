<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body onload="init()">
    <canvas id="myCanvas" style="background-color: aliceblue;" width="400" height="300"></canvas>
    <script>
        let canvas, context
        function init(){
            canvas = document.getElementById("myCanvas")
            context = canvas.getContext("2d")

            context.beginPath()
            context.strokeStyle = "blue"
            context.arc(100, 70, 30, 0, 2*Math.PI, false)
            context.stroke()
            context.beginPath()
            context.strokeStyle = "black"
            context.arc(163, 70, 30, 0, 2*Math.PI, false)
            context.stroke()
            context.beginPath()
            context.strokeStyle = "red"
            context.arc(226, 70, 30, 0, 2*Math.PI, false)
            context.stroke()
            context.beginPath()
            context.strokeStyle = "yellow"
            context.arc(131.5, 100, 30, 0, 2*Math.PI, false)
            context.stroke()
            context.beginPath()
            context.strokeStyle = "green"
            context.arc(193, 100, 30, 0, 2*Math.PI, false)
            context.stroke()

            context.lineWidth = 2
            context.strokeStyle = "blue"

            canvas.addEventListener("mousemove", function(e){move(e)}, false)
            canvas.addEventListener("mousedown", function(e){down(e)}, false)
            canvas.addEventListener("mouseup", function(e){up(e)}, false)
            canvas.addEventListener("mouseout", function(e){out(e)}, false)
        }

        let startX = 0, startY = 0
        let dragging = false
        function draw(curX, curY){
            context.beginPath()
            context.moveTo(startX, startY)
            context.lineTo(curX, curY)
            context.stroke()
        }
        function down(e){
            startX = e.offsetX
            startY = e.offsetY
            dragging = true
        }
        function up(e){
            dragging = false
        }
        function move(e){
            if(!dragging) return
            let curX = e.offsetX, curY = e.offsetY
            draw(curX, curY)
            startX = curX
            startY = curY
        }
        function out(e){
            dragging = false
        }
    </script>
</body>
</html>